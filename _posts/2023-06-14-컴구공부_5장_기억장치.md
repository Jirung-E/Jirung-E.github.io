---
title: "컴구공부_5장_기억장치"
excerpt: "컴퓨터구조 기말고사 대비"
last_modified_at: 2023-06-14T21:16:00

categories:
  - Study

tags:
  - 기억장치

toc: true
toc_sticky: true
---

## 액세스
### 액세스유형
- 순차적 액세스: 저장된 정보를 처음부터 순서대로 액세스
- 직접 액세스: 액세스할 위치 근처로 직접 이동한 다음에, 순차적 검색을 통하여 최종 위치에 도달하는 방식
- 임의 액세스: 주소에 의해 직접 기억 장소를 찾아 액세스. 위치에 따른 시간차 없음
- 연관 액세스: 저장된 내용의 특정 비트들을 비교, 일치하는 내용 액세스

### 액세스속도
- 액세스 시간: 주소와 쓰기/읽기 신호가 도착한 순간부터 데이터 액세스가 완료되는 순간까지의 시간
- 데이터 전송률: 기억장치로부터 초당 액세스 되는 비트 수
  + = (1/액세스 시간) * (한번에 읽혀지는 데이터 비트 수)

### 전송단위
CPU가 한 번의 기억장치 액세스에 의해 읽거나 쓸 수 있는 비트 수   
- 주기억장치: 단어(word)단위
- 보조저장장치: 블록(512바이트 혹은 1k바이트) 단위

### 주소지정단위
주소가 지정된 각 기억 장소 당 저장되는 데이터 길이
- 바이트 단위 혹은 단어 단위
  + 주소비트의 수 A와 주소지정단위의 수 N과의 관계: 2^A = N

## 유형
**재료에 따른 유형**
 - 반도체 기억장치
 - 자기표면 기억장치

**저장성질에 따른 유형**
 - 휘발성 기억장치
 - 비휘발성 기억장치

## 계층적 기억장치 시스템
 - 필요성: 적절한 성능, 용량 및 가격의 기억장치 구성 필요
 - 효과: 기억장치시스템의 성능 대 가격비(performance/cost ratio) 향상

### 2단계
첫번째 계층 기억장치의 액세스 시간 = A   
두번째 계층 기억장치의 액세스 시간 = B   
액세스할 정보가 첫 번째 계층 기억장치에 있을 확률 = r
 - 평균 기억장치 액세스 시간 = r * A + r * B;

### 지역성의 원리
프로그램이 처리되는 과정에서 기억장치 액세스들이 특정 영역에 집중되는 현상   
 - cache hit 등

### 내부 기억장치
CPU가 직접 액세스 할수 있는 기억장치들
 - CPU 레지스터
 - 캐시메모리
 - 주기억장치

### 외부 기억장치
CPU가 직접 액세스 할수 없고, 장치 제어기를 통해서만 액세스 할수 있는 기억장치들
 - 디스크
 - SSD
 - CD-ROM

## RAM
**DRAM(Dynamic RAM)**
 - 캐퍼시터에 전하를 충전하는 방식으로 데이터를 저장(집적밀도가 높다)
 - 저장상태 유지를 위해 주기적인 재충전 필요
 - 같은 용량의 SRAM보다 저렴
 - 주기억장치에 사용됨

**SRAM(Static RAM)**
 - 플립플롭 이용(집적밀도가 낮다)
 - 재충전 필요 없음
 - DRAM보다 빠르다
 - 캐시메모리로 사용됨

**용량에 따른 주소 비트 수**
 - 8Kbit RAM
   + 1K * 8비트 조직인 경우, 주소는 10비트 필요(1K = 2^10)
   + 2K * 4비트 조직인 경우, 주소는 11비트 필요(2K = 2^10 * 2)
 - 1Mbit RAM
   + 128K * 8비트 조직인 경우, 주소는 17비트 필요(128K = 1K * 128 = 2^10 * 2^7 = 2^17)
   + 256K * 4비트 조직인 경우, 주소는 18비트 필요(256K = 1K * 256 = 2^10 * 2^8 = 2^18)
 - 1Gbit RAM
   + 128M * 8비트 조직인 경우, 주소는 27비트 필요(128M = 1M * 128 = 2^20 * 2^7 = 2^27)
   + 256M * 4비트 조직인 경우, 주소는 28비트 필요(256M = 1M * 256 = 2^20 * 2^8 = 2^28)

 - 64 * 1 조직
   + 한 비트 씩 저장하는 64개의 기억 장소들로 구성
   + 6개의 주소 비트들이 필요(64 = 2^6)
     - 상위 3비트들은 8개의 행들 중에서 한 개 선택
     - 하위 3비트들은 8개의 열들 중에서 한 개 선택
   + 두개의 3 * 8 해독기 필요
   + 데이터 입출력선의 수 = 1
   + 16M * 4 조직
     - 기억소자들이 4096* 4096 * 4비트 형태로 배열
     - 각 기억 장소에는 4개의 데이터 비트들을 저장
     - 기억장소의 수 = 16M개
       + 전체 24비트의 주소선들이 필요
       + -> RAS(Row Address Strobe) CAS(Column Address Strobe) 신호 이용, 칩으로 실제 입력되는 주소 비트의 수는 12개만 되도록 함

### 기억장치 제어기
CPU가 생성한 주소를 행 주소와 열 주소로 나누어 순차적으로 DRAM으로 전송하고, 그에 맞추어 RAS 및 CAS 신호를 발생시키는 하드웨어 모듈

### VRAM
VRAM은 GPU access와 모니터 출력이 동시에 이루어져야 한다.   
안그러면 모니터에 잡음이 섞이거나, GPU에 딜레이 발생   
일반 DRAM에 출력선이 하나 더 나와있다.  
계속 순차적으로 일정한 속도로 메모리 값을 출력

### SDRAM
동기식 DRAM(Synchronous DRAM)   
액세스 동작들이 시스템 클록에 맞추어 수행됨   
데이터를 꺼내는동안 CPU는 다른 동작을 수행할 수 있다.

### DDR SDRAM
Double Data Rate SDRAM   
SDRAM 기억장치 모듈의 대역폭을 향상시키기 위한 기술
> 대역폭: 단위 시간당 전송되는 데이터 량(단위: bytes/sec)

 - DDR SDRAM: 버스 클럭당 두번의 데이터 전송(클럭 펄스의 상승엣지 및 하강엣지에서 각각 전송 이라고 하는데 아닌거같은데; 똑. 딱. 하면 하나임)
 - DDR2 SDRAM: DDR SDRAM과 같음. 버스 클럭 주파수를 두배로 높여 대역폭 향상(똑. 할때 하나 딱. 할떄 하나)
   + 상승 및 하강 엣지마다 64비트씩 전송

## ROM
아래 내용들의 저장에 사용
 - 시스템 초기화 및 진단 프로그램 
 - 빈번히 사용되는 함수들을 위한 서브루틴들
 - 제어 유니트의 마이크로 프로그램   
   
**종류**
 - PROM: 사용자가 한 번은 쓰는 것이 가능
 - EPROM: 자외선을 이용하여 내용을 지우는게 가능. 여러번 쓰기가 가능
 - EEPROM: 전기적으로 지울 수 있음. 데이터 갱신 횟수 제한(수만번정도)
 - Flash Memory
   + EEPROM에 비하여 삭제 시간이 더 빠르고, 집적 밀도도 더 높음.
   + 삭제 횟수 제한(100,000 ~ 1,000,000회)
   + SSD의 구성요소

## Cache Memory
SRAM 사용, 가격 및 제한된 공간 때문에 용량이 작음   
캐시적중률 = 캐시적중횟수 / 전체 기억장치 액세스 횟수   
평균 기억장치 액세스 시간 = 캐시 적중률 * 캐시 액세스 시간 + 캐시미스율 * 주기억장치 액세스 시간

#### 지역성
 - 시간적 지역성: 최근에 액세스된 프로그램이나 데이터가 가까운 미래에 다시 액세스 될 가능성이 높다.
 - 공간적 지역성: 기억장치내에 인접하여 저장되어있는 데이터들이 연속적으로 액세스될 가능성이 높다.
 - 순차적 지역성: 분기가 발생하지 않는 한, 명령어들은 기억장치에 저장된 순서대로 인출되어 실행된다.

#### 인출방식
 - 요구인출: 필요한 정보만 인출
 - 선인출: 필요한 정보 외에 앞으로 필요할 것으로 예측되는 정보도 미리 인출(지역성이 높은 경우 효과가 크다.)

#### 사상방식
 - 직접사상
   + 각 주기억장치의 블록이 지정된 하나의 캐시라인으로만 적재됨
   + 태그필드 + 라인번호 + 단어필드 로 구성
   + 하드웨어 간단, 구현 비용이 적게듦
   + 각 주기억장치 블록이 적재될 수 있는 캐시 라인이 한 개 뿐이기 때문에, 그 라인을 공유하는 다른 블록이 적재되는 경우에는 overwrite 되거나 swap-out됨
 - 완전연관사상
   + 주기억장치 블록이 캐시의 어떤 라인으로든 적재 가능
   + 태그필드(주기억장치 블록 번호) + 단어필드 로 구성
   + 새로운 블록이 캐시로 적재될 때 라인의 선택이 매우 자유롭다
   + 지역성이 높다면, 적중률이 매우 높아진다
   + 캐시 라인들의 태그들을 병렬로 검사하기 위하여 가격이 높은 연관기억장치 및 복잡한 주변 회로 필요
 - 세트연관사상
   + 직접 + 완전연관
   + 주기억장치 블록 그룹이 하나의 캐시 세트 공유, 그 세트에는 두개 이상의 라인들이 적재될 수 있음
   + 태그필드 + 세트필드 + 단어필드 로 구성
   + 세트필드의 S비트들을 이용하여 캐시 세트들 중의 하나를 선택

#### 교체알고리즘
 - 최소 최근 사용(Least Recently Used: LRU): 사용되지 않은 채로 가장 오래 있었던 블록을 교체하는 방식
 - FIFO: 캐시에 적재된지 가장 오래된 블록을 교체하는 방식
 - 최소 사용 빈도(Least Frequently Used: LFU): 참조되었던 횟수가 가장 적은 블록을 교체하는 방식

#### 쓰기 정책
캐시의 블록이 변경되었을 때 그 내용을 주기억장치에 갱신하는 시기와 방법의 결정
 - Write-through: 캐시에 쓰면 주기억장치에도 쓰기
 - Write-back: 나중에 씀

 - - -

## 기억장치 모듈의 설계
 - 병렬접속: 기억장치 칩의 데이터 I/O 비트 수가 단어 길이보다 적은 경우 여러개의 칩들을 병렬로 접속하여 기억장치 모듈을 구성   
 - 직렬접속: 필요한 기억 장소의 수가 각 기억장치 칩의 기억장소 수보다 많은 경우 여러개의 칩들을 직렬접속하여 기억장치 모듈을 구성

## 차세대 비휘발성 기억장치
 - PRAM
 - FRAM
 - MRAM
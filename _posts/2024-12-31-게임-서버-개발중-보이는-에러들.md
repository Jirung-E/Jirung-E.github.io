---
title: "게임 서버 개발중 보이는 에러들"
excerpt: "게임 서버 개발중에 나오는 에러들을 정리하고 왜 그런 에러가 나오는지 유추해본다."
last_modified_at: 2024-12-31T16:27:18

categories: 
  - Server

tags: 
  - rust
  - server
  - tokio

toc: true
toc_sticky: true
---


## 클라이언트의 서버 접속 실패  
**에러 내용**    
```  
각 소켓 주소(프로토콜/네트워크 주소/포트)는 하나만 사용할 수 있습니다. (os error 10048)  
```  
  
**환경**    
- 서버 구현: Rust + tokio    
- 클라이언트 구현: Rust + tokio    
  
**상황**    
서버 응답시간을 테스트 하기 위해 서버에 1000개의 더미 클라이언트를 접속시켜 데이터를 주고받는 테스트를 하고 있었다.    
> 테스트 프로그램은 1000개의 더미 클라이언트를 생성하고 각각 서버에 접속해서 데이터를 <u>한번</u> 주고받고 종료한다.     
테스트 초반에는 에러가 발생하지 않았으나, 여러번 테스트를 반복하니 위와 같은 에러가 발생했다.  
  
**에러 발생 위치**    
클라이언트에서 connect 함수 호출시 발생  
  
**에러 원인**    
이전 테스트에 사용한 포트가 아직 닫히지 않아서 클라이언트에서 사용 가능한 포트가 없어서 발생한것으로 추정    
```  
$ netstat -anp tcp | findstr 9000  
```  
로 확인해본 결과, 실제로 포트가 남아있는것을 확인했다.    
  
**해결 방법**    
- 포트를 강제로 닫는다.  
- 좀 기다렸다 다시 시도한다.